
<!DOCTYPE html>
<html>
 <head>
  <script type="application/javascript">

    function hdCanvas(canvas, ratio) {
      const rect = canvas.getBoundingClientRect();
      canvas.width = rect.width * ratio;
      canvas.height = rect.height * ratio;
      canvas.style.width = rect.width + "px"
      canvas.style.height = rect.height + "px"
    }

    function draw() {
      const canvas = document.getElementById("canvas");
      if (canvas.getContext) {
        const ctx = canvas.getContext("2d");
        const ratio = window.devicePixelRatio || 1
        hdCanvas(canvas, ratio)

        // 放大倍数
        ctx.scale(ratio, ratio);
        console.log(ratio);

        ctx.fillStyle = "red";
        ctx.fillRect(10, 10, 55, 50);

        ctx.strokeStyle = 'green'
        ctx.lineWidth = 4
        ctx.strokeRect(80, 10, 55, 50)


        ctx.fillStyle = "blue";
        ctx.fillRect(160, 10, 55, 50);
        ctx.clearRect(170, 20, 20, 20)
      }
    }
  </script>
 </head>
 <body onload="draw();">
   <canvas style="border: 1px solid blue;" id="canvas" width="350" height="150"></canvas>
 </body>
</html>